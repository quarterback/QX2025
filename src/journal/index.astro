---
import Layout from '../../layouts/Page.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('journal');
---

<Layout>
  <section class="max-w-3xl mx-auto px-4 py-20">
    <h1 class="text-4xl font-serif font-bold text-gray-900 mb-6">Consequence Design Journal</h1>
    <p class="text-lg text-gray-700 leading-relaxed mb-12">
      This is an ongoing research journal tracking the evolving ideas behind Consequence Design, interface critique, context theory,
      and speculative governance. Some entries are drafts, others are more developed. None are final.
    </p>

    <ul class="space-y-6">
      {posts.map(post => (
        <li>
          <a href={`/journal/${post.slug}`} class="block">
            <h2 class="text-2xl font-serif font-semibold text-blue-900 mb-1">{post.data.title}</h2>
            <p class="text-gray-600 text-sm">{post.data.date}</p>
            {post.data.description && (
              <p class="mt-1 text-gray-700 text-base">{post.data.description}</p>
            )}
          </a>
        </li>
      ))}
    </ul>
  </section>
</Layout>
